<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CampusCare AI Assistant</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: #ffffff;
        color: #1a1a1a;
        line-height: 1.6;
        overflow-x: hidden;
      }

      .app-container {
        display: flex;
        height: 100vh;
        background: #ffffff;
      }

      /* Sidebar */
      .sidebar {
        width: 260px;
        background: #f7f7f8;
        border-right: 1px solid #e5e5e5;
        display: flex;
        flex-direction: column;
        position: fixed;
        height: 100vh;
        left: 0;
        top: 0;
      }

      .sidebar-header {
        padding: 20px;
        border-bottom: 1px solid #e5e5e5;
      }

      .sidebar-header h1 {
        font-size: 1.5rem;
        font-weight: 600;
        color: #1a1a1a;
        margin-bottom: 5px;
      }

      .sidebar-header p {
        font-size: 0.875rem;
        color: #6b7280;
      }

      .new-chat-btn {
        width: calc(100% - 40px);
        margin: 20px;
        padding: 12px 16px;
        background: #1a1a1a;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .new-chat-btn:hover {
        background: #374151;
      }

      .new-chat-btn svg {
        width: 16px;
        height: 16px;
      }

      /* Main Chat Area */
      .main-chat {
        flex: 1;
        margin-left: 260px;
        display: flex;
        flex-direction: column;
        height: 100vh;
      }

      .chat-header {
        padding: 20px 32px;
        border-bottom: 1px solid #e5e5e5;
        background: #ffffff;
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .chat-header h2 {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1a1a1a;
      }

      .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 0;
        background: #ffffff;
      }

      .message-group {
        border-bottom: 1px solid #f0f0f0;
      }

      .message {
        padding: 24px 32px;
        display: flex;
        gap: 16px;
        align-items: flex-start;
        max-width: 100%;
      }

      .message.user {
        background: #f7f7f8;
      }

      .message.bot {
        background: #ffffff;
      }

      .avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.875rem;
        font-weight: 600;
        flex-shrink: 0;
      }

      .avatar.user {
        background: #1a1a1a;
        color: white;
      }

      .avatar.bot {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .message-content {
        flex: 1;
        max-width: calc(100% - 48px);
      }

      .message-text {
        font-size: 0.95rem;
        line-height: 1.6;
        color: #1a1a1a;
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      .message.user .message-text {
        color: #1a1a1a;
      }

      .message.bot .message-text {
        color: #1a1a1a;
      }

      .typing-indicator {
        padding: 24px 32px;
        background: #ffffff;
        border-bottom: 1px solid #f0f0f0;
        display: flex;
        gap: 16px;
        align-items: flex-start;
      }

      .typing-dots {
        display: flex;
        gap: 4px;
        margin-left: 48px;
      }

      .typing-dot {
        width: 6px;
        height: 6px;
        background: #6b7280;
        border-radius: 50%;
        animation: typing 1.4s infinite ease-in-out;
      }

      .typing-dot:nth-child(1) {
        animation-delay: -0.32s;
      }
      .typing-dot:nth-child(2) {
        animation-delay: -0.16s;
      }

      @keyframes typing {
        0%,
        80%,
        100% {
          transform: scale(0.8);
          opacity: 0.5;
        }
        40% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* Input Area */
      .chat-input-container {
        background: #ffffff;
        border-top: 1px solid #e5e5e5;
        padding: 24px 32px;
        position: sticky;
        bottom: 0;
      }

      .input-wrapper {
        max-width: 768px;
        margin: 0 auto;
        position: relative;
      }

      .input-field {
        width: 100%;
        padding: 16px 20px;
        border: 1px solid #d1d5db;
        border-radius: 12px;
        font-size: 0.95rem;
        font-family: inherit;
        outline: none;
        transition: all 0.2s ease;
        background: #ffffff;
        resize: none;
        min-height: 56px;
        max-height: 200px;
        line-height: 1.5;
      }

      .input-field:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .input-field::placeholder {
        color: #9ca3af;
      }

      .send-button {
        position: absolute;
        right: 12px;
        bottom: 12px;
        background: #667eea;
        color: white;
        border: none;
        border-radius: 8px;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 0.875rem;
      }

      .send-button:hover {
        background: #5a67d8;
        transform: scale(1.05);
      }

      .send-button:disabled {
        background: #d1d5db;
        cursor: not-allowed;
        transform: none;
      }

      .send-button svg {
        width: 16px;
        height: 16px;
      }

      /* Welcome Message */
      .welcome-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        text-align: center;
        padding: 40px;
        max-width: 600px;
        margin: 0 auto;
      }

      .welcome-icon {
        width: 64px;
        height: 64px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 24px;
        color: white;
        font-size: 2rem;
      }

      .welcome-title {
        font-size: 2rem;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 16px;
      }

      .welcome-subtitle {
        font-size: 1.125rem;
        color: #6b7280;
        margin-bottom: 32px;
        line-height: 1.6;
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        width: 100%;
        margin-top: 32px;
      }

      .feature-card {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 20px;
        text-align: center;
      }

      .feature-card h3 {
        font-size: 1rem;
        font-weight: 600;
        color: #1a1a1a;
        margin-bottom: 8px;
      }

      .feature-card p {
        font-size: 0.875rem;
        color: #6b7280;
        line-height: 1.5;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
          transition: transform 0.3s ease;
          z-index: 1000;
        }

        .sidebar.open {
          transform: translateX(0);
        }

        .main-chat {
          margin-left: 0;
        }

        .chat-header {
          padding: 16px 20px;
        }

        .message {
          padding: 20px;
        }

        .chat-input-container {
          padding: 20px;
        }

        .welcome-container {
          padding: 20px;
        }

        .welcome-title {
          font-size: 1.5rem;
        }

        .feature-grid {
          grid-template-columns: 1fr;
        }
      }

      /* Scrollbar Styling */
      .chat-messages::-webkit-scrollbar {
        width: 8px;
      }

      .chat-messages::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      .chat-messages::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
      }

      .chat-messages::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }

      /* Mobile Menu Button */
      .mobile-menu-btn {
        display: none;
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1001;
        background: #1a1a1a;
        color: white;
        border: none;
        border-radius: 8px;
        width: 40px;
        height: 40px;
        cursor: pointer;
      }

      @media (max-width: 768px) {
        .mobile-menu-btn {
          display: flex;
          align-items: center;
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
          clip-rule="evenodd"
        ></path>
      </svg>
    </button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h1>CampusCare AI</h1>
        <p>Your intelligent campus assistant</p>
      </div>
      <button class="new-chat-btn" id="newChatBtn">
        <svg fill="currentColor" viewBox="0 0 20 20">
          <path
            fill-rule="evenodd"
            d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
            clip-rule="evenodd"
          ></path>
        </svg>
        New Chat
      </button>
    </div>

    <!-- Main Chat Area -->
    <div class="main-chat">
      <div class="chat-header">
        <h2 id="chatTitle">CampusCare AI Assistant</h2>
      </div>

      <div class="chat-messages" id="chatMessages">
        <!-- Welcome Message -->
        <div class="welcome-container" id="welcomeContainer">
          <div class="welcome-icon">🎓</div>
          <h1 class="welcome-title">Welcome to CampusCare AI</h1>
          <p class="welcome-subtitle">
            I'm your intelligent campus assistant. Ask me anything about campus
            life, academic resources, student services, or general information.
          </p>
          <div class="feature-grid">
            <div class="feature-card">
              <h3>📚 Academic Support</h3>
              <p>Get help with courses, schedules, and academic resources</p>
            </div>
            <div class="feature-card">
              <h3>🏠 Campus Life</h3>
              <p>Information about housing, dining, and student activities</p>
            </div>
            <div class="feature-card">
              <h3>🔧 Student Services</h3>
              <p>Access to counseling, health services, and career guidance</p>
            </div>
            <div class="feature-card">
              <h3>📋 Administrative</h3>
              <p>Help with registration, financial aid, and policies</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Input Area -->
      <div class="chat-input-container">
        <div class="input-wrapper">
          <textarea
            class="input-field"
            id="messageInput"
            placeholder="Message CampusCare AI..."
            rows="1"
            autocomplete="off"
          ></textarea>
          <button class="send-button" id="sendButton">
            <svg fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <script>
      class CampusCareAI {
        constructor() {
          this.chatMessages = document.getElementById("chatMessages");
          this.messageInput = document.getElementById("messageInput");
          this.sendButton = document.getElementById("sendButton");
          this.welcomeContainer = document.getElementById("welcomeContainer");
          this.newChatBtn = document.getElementById("newChatBtn");
          this.mobileMenuBtn = document.getElementById("mobileMenuBtn");
          this.sidebar = document.getElementById("sidebar");
          this.isTyping = false;
          this.messageCount = 0;

          this.initializeEventListeners();
          this.setupAutoResize();
        }

        initializeEventListeners() {
          // Send button click
          this.sendButton.addEventListener("click", () => this.sendMessage());

          // Enter key press (Shift+Enter for new line)
          this.messageInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter" && !e.shiftKey) {
              e.preventDefault();
              this.sendMessage();
            }
          });

          // New chat button
          this.newChatBtn.addEventListener("click", () => this.startNewChat());

          // Mobile menu button
          this.mobileMenuBtn.addEventListener("click", () =>
            this.toggleSidebar()
          );

          // Close sidebar when clicking outside on mobile
          document.addEventListener("click", (e) => {
            if (
              window.innerWidth <= 768 &&
              !this.sidebar.contains(e.target) &&
              !this.mobileMenuBtn.contains(e.target)
            ) {
              this.sidebar.classList.remove("open");
            }
          });
        }

        setupAutoResize() {
          this.messageInput.addEventListener("input", () => {
            this.messageInput.style.height = "auto";
            this.messageInput.style.height =
              Math.min(this.messageInput.scrollHeight, 200) + "px";
          });
        }

        sendMessage() {
          const message = this.messageInput.value.trim();
          if (!message || this.isTyping) return;

          // Hide welcome container on first message
          if (this.messageCount === 0) {
            this.welcomeContainer.style.display = "none";
          }

          // Add user message
          this.addMessage(message, "user");
          this.messageInput.value = "";
          this.messageInput.style.height = "auto";

          // Show typing indicator
          this.showTypingIndicator();

          // Simulate AI response after delay
          setTimeout(() => {
            this.hideTypingIndicator();
            this.generateAIResponse(message);
          }, 1000 + Math.random() * 1500); // Random delay between 1-2.5 seconds
        }

        addMessage(text, sender) {
          this.messageCount++;

          const messageGroup = document.createElement("div");
          messageGroup.className = "message-group";

          const messageDiv = document.createElement("div");
          messageDiv.className = `message ${sender}`;

          const avatar = document.createElement("div");
          avatar.className = `avatar ${sender}`;
          avatar.textContent = sender === "user" ? "U" : "AI";

          const contentDiv = document.createElement("div");
          contentDiv.className = "message-content";

          const textDiv = document.createElement("div");
          textDiv.className = "message-text";
          textDiv.textContent = text;

          contentDiv.appendChild(textDiv);
          messageDiv.appendChild(avatar);
          messageDiv.appendChild(contentDiv);
          messageGroup.appendChild(messageDiv);

          this.chatMessages.appendChild(messageGroup);
          this.scrollToBottom();
        }

        showTypingIndicator() {
          this.isTyping = true;
          this.sendButton.disabled = true;

          const typingGroup = document.createElement("div");
          typingGroup.className = "message-group";
          typingGroup.id = "typingIndicator";

          const typingDiv = document.createElement("div");
          typingDiv.className = "typing-indicator";

          const avatar = document.createElement("div");
          avatar.className = "avatar bot";
          avatar.textContent = "AI";

          const dotsDiv = document.createElement("div");
          dotsDiv.className = "typing-dots";

          for (let i = 0; i < 3; i++) {
            const dot = document.createElement("div");
            dot.className = "typing-dot";
            dotsDiv.appendChild(dot);
          }

          typingDiv.appendChild(avatar);
          typingDiv.appendChild(dotsDiv);
          typingGroup.appendChild(typingDiv);
          this.chatMessages.appendChild(typingGroup);
          this.scrollToBottom();
        }

        hideTypingIndicator() {
          this.isTyping = false;
          this.sendButton.disabled = false;

          const typingIndicator = document.getElementById("typingIndicator");
          if (typingIndicator) {
            typingIndicator.remove();
          }
        }

        generateAIResponse(userMessage) {
          // Enhanced AI responses with more context and helpful information
          let response = this.getContextualResponse(userMessage);

          this.addMessage(response, "bot");
        }

        getContextualResponse(userMessage) {
          const message = userMessage.toLowerCase();

          // Academic related
          if (
            message.includes("schedule") ||
            message.includes("class") ||
            message.includes("course")
          ) {
            return "I can help you with your academic schedule! You can view your current classes in the student portal, or I can guide you through the course registration process. What specific information do you need about your schedule?";
          }

          if (
            message.includes("grade") ||
            message.includes("gpa") ||
            message.includes("transcript")
          ) {
            return "Your academic records are available through the student portal. You can view current grades, calculate your GPA, and request official transcripts. Would you like me to explain how to access any of these features?";
          }

          if (
            message.includes("professor") ||
            message.includes("instructor") ||
            message.includes("faculty")
          ) {
            return "Faculty information is available in the campus directory. You can find contact details, office hours, and research interests. Is there a specific professor you're looking for, or do you need help with faculty communication?";
          }

          // Campus life
          if (
            message.includes("food") ||
            message.includes("meal") ||
            message.includes("dining")
          ) {
            return "We have several dining options across campus! There are multiple dining halls, cafes, and food trucks. Meal plans are flexible and can be customized. Would you like information about specific locations, meal plan options, or dietary accommodations?";
          }

          if (
            message.includes("housing") ||
            message.includes("dorm") ||
            message.includes("residence")
          ) {
            return "Campus housing offers various options from traditional dorms to apartment-style living. Applications typically open in the spring for the following academic year. I can help you understand the different housing options, application process, or connect you with housing services.";
          }

          if (
            message.includes("parking") ||
            message.includes("car") ||
            message.includes("transportation")
          ) {
            return "Parking permits are required for all vehicles on campus. We also offer shuttle services, bike rentals, and public transportation options. Would you like information about parking permits, alternative transportation, or specific parking locations?";
          }

          if (
            message.includes("library") ||
            message.includes("study") ||
            message.includes("research")
          ) {
            return "The campus library is a great resource for studying and research! We have 24/7 access during finals, study rooms you can book, research databases, and librarians available for assistance. What specific help do you need with library resources?";
          }

          // Student services
          if (
            message.includes("counseling") ||
            message.includes("mental health") ||
            message.includes("therapy")
          ) {
            return "Student counseling services are available and completely confidential. We offer individual therapy, group sessions, crisis support, and wellness workshops. All services are free for enrolled students. Would you like me to connect you with counseling services?";
          }

          if (
            message.includes("health") ||
            message.includes("medical") ||
            message.includes("clinic")
          ) {
            return "The student health center provides medical care, vaccinations, mental health services, and health education. Most services are covered by your student health insurance. Do you need help scheduling an appointment or understanding what services are available?";
          }

          if (
            message.includes("career") ||
            message.includes("job") ||
            message.includes("internship")
          ) {
            return "Our career center offers resume reviews, interview preparation, job fairs, and internship opportunities. We also have alumni networking events and industry partnerships. What specific career development support are you looking for?";
          }

          // Financial
          if (
            message.includes("financial aid") ||
            message.includes("scholarship") ||
            message.includes("loan")
          ) {
            return "Financial aid options include grants, scholarships, work-study programs, and loans. The financial aid office can help you understand your options, complete applications, and manage your aid package. Would you like me to explain the different types of financial aid available?";
          }

          if (
            message.includes("tuition") ||
            message.includes("payment") ||
            message.includes("bill")
          ) {
            return "Tuition and fees can be paid through the student portal. We offer payment plans and various payment methods. The billing office can help with payment questions, refunds, and understanding your bill. What specific billing information do you need?";
          }

          // General responses
          const generalResponses = [
            "I'd be happy to help you with that! Let me provide you with the most relevant information from our campus resources.",
            "That's a great question! I can help you navigate our campus services and find the information you need.",
            "I understand what you're looking for. Let me guide you to the right resources and services.",
            "Thanks for asking! This is something I can definitely help you with. Let me get you the information you need.",
            "I'm here to assist you with campus-related questions and concerns. Let me provide you with helpful guidance.",
            "That's an important topic! I can help you understand the process and connect you with the right resources.",
            "I'm your campus assistant, and I'm here to help! Let me provide you with the information you need.",
            "Great question! I can help you navigate that process and find the resources you need.",
          ];

          return generalResponses[
            Math.floor(Math.random() * generalResponses.length)
          ];
        }

        startNewChat() {
          // Clear chat messages
          this.chatMessages.innerHTML = "";

          // Show welcome container
          this.welcomeContainer.style.display = "block";

          // Reset message count
          this.messageCount = 0;

          // Update chat title
          document.getElementById("chatTitle").textContent =
            "CampusCare AI Assistant";

          // Close mobile sidebar
          if (window.innerWidth <= 768) {
            this.sidebar.classList.remove("open");
          }
        }

        toggleSidebar() {
          this.sidebar.classList.toggle("open");
        }

        scrollToBottom() {
          setTimeout(() => {
            this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
          }, 100);
        }
      }

      // Initialize AI assistant when page loads
      document.addEventListener("DOMContentLoaded", () => {
        new CampusCareAI();
      });
    </script>
  </body>
</html>
